<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ABHISHEK PADGHAN</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="./style.css">
        
    </head>
    <body>

        <div class="container">  
                 <marquee class="name" scrollamount="10" behavior="align">-----© Designed by Abhishek P. Padghan-----     -----© Designed by Abhishek P. Padghan-----     -----© Designed by Abhishek P. Padghan-----     -----© Designed by Abhishek P. Padghan-----     -----© Designed by Abhishek P. Padghan-----     -----© Designed by Abhishek P. Padghan-----</marquee><br>

                <h1>REGISTRATION FORM FOR MECHANICAL ENGINEERING DEPARTMENT</h1>

            <form id="form" action="/">
                <div class="input-control">
                    <h3>FILL THE GIVEN INFORMATION CAREFULLY</h3>
                    <label for="username">First Name</label>
                    <input id="username" name="username" type="text" autocomplete="off">
                    <div class="error"></div>
                </div>
                <div class="input-control">
                    <label for="username">Middle Name</label>
                    <input id="midname" name="middlename" type="text" autocomplete="off">
                    <div class="error"></div>
                </div>
                <div class="input-control">
                    <label for="username">Last Name</label>
                    <input id="lasname" name="lastname" type="text" autocomplete="off">
                    <div class="error"></div>
                </div>
                <div class="input-control">
                    <label for="email">Email</label>
                    <input id="email" name="email" type="text" autocomplete="off">
                    <div class="error"></div>
                </div>
                <div class="input-control">
                    <label for="phonenumber">Phone No.</label>
                    <input id="phone" name="Phonenumber" type="text" autocomplete="off">
                    <div class="error"></div>
                </div>
                <div class="input-control">
                    <label for="password">Password</label>
                    <input id="password"name="password" type="password" autocomplete="off">
                    <div class="error"></div>
                </div>
                <div class="input-control">
                    <label for="password2">Confirm Password</label>
                    <input id="password2"name="password2" type="password" autocomplete="off">
                    <div class="error"></div>
                </div>
                <button type="submit">REGISTER</button>
            </form>
        </div>

            <script type="text/javascript">
                const form = document.getElementById('form');
                const username = document.getElementById('username');
                const middlename = document.getElementById('midname');
                const lastname = document.getElementById('lasname');
                const email = document.getElementById('email');
                const phonenumber = document.getElementById('phone');
                const password = document.getElementById('password');
                const password2 = document.getElementById('password2');

                form.addEventListener('submit', e => {
                    e.preventDefault();

                    validateInputs();
                });

                const setError = (element, message) => {
                    const inputControl = element.parentElement;
                    const errorDisplay = inputControl.querySelector('.error');

                    errorDisplay.innerText = message;
                    inputControl.classList.add('error');
                    inputControl.classList.remove('success')
                }

                const setSuccess = element => {
                    const inputControl = element.parentElement;
                    const errorDisplay = inputControl.querySelector('.error');

                    errorDisplay.innerText = '';
                    inputControl.classList.add('success');
                    inputControl.classList.remove('error');
                };

                const isValidEmail = email => {
                    const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                    return re.test(String(email).toLowerCase());
                }

                    const validateInputs = () => {
                    const usernameValue = username.value.trim();
                    const middlenameValue = middlename.value.trim();
                    const lastnameValue = lastname.value.trim();
                    const emailValue = email.value.trim();
                    const phonenumberValue = phonenumber.value.trim();
                    const passwordValue = password.value.trim();
                    const password2Value = password2.value.trim();

                    if(usernameValue === '') {
                        setError(username, 'Name is required');
                    } else {
                        setSuccess(username);
                    }

                    if(middlenameValue === '') {
                        setError(middlename, 'Middle Name is required');
                    } else {
                        setSuccess(middlename);
                    }
                    if(lastnameValue === '') {
                        setError(lastname, 'Last Name is required');
                    } else {
                        setSuccess(lastname);
                    }

                    if(emailValue === '') {
                        setError(email, 'Email is required');
                    } else if (!isValidEmail(emailValue)) {
                        setError(email, 'Provide a valid email address');
                    } else {
                        setSuccess(email);
                    }

                    if (phonenumberValue === '') {
                        setError(phonenumber, 'Phone No. is required');
                    } else if (phonenumberValue.length < 10 ) {
                        setError(phonenumber, 'Phone Number must be 10 digit')
                    } else {
                        setSuccess(phonenumber);
                    } 


                    if(passwordValue === '') {
                        setError(password, 'Password is required');
                    } else if (passwordValue.length < 8 ) {
                        setError(password, 'Password must be at least 8 character.')
                    } else {
                        setSuccess(password);
                    }

                    if(password2Value === '') {
                        setError(password2, 'Please confirm your password');
                    } else if (password2Value !== passwordValue) {
                        setError(password2, "Passwords doesn't match");
                    } else {
                        setSuccess(password2);
                    }

                };

            </script><br>
            <footer align="center">ABHIHSEK PADGHAN | ME20016 | MECHANICAL ENGINEERING DEPARTMENT |TAE-1 JAVASCRIPT</footer>

    </body>
</html>